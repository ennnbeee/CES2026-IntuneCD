{
     "executionFrequency": "PT0S",
     "retryCount": 0,
     "blockExecutionNotifications": false,
     "displayName": "[intune-my-macs] SCR-SYS-100 - Device Rename",
     "description": "Automatically renames Mac devices using a standardized naming convention based on enrollment type (ADE/BYOD), device model type (MBA/MBP/iMac/etc), serial number, and detected country code via IP geolocation. Differentiates between corporate (ABM-enrolled) and personal (manually-enrolled) devices with configurable prefixes.",
     "scriptContent": "IyEvYmluL2Jhc2gKCiNzZXQgLXgKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMjCiMjIFNjcmlwdCB0byByZW5hbWUgYSBNYWMgYmFzZWQgb24gZGV2aWNlIHR5cGUgYW5kIHNlcmlhbCBudW1iZXIKIyMKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCiMjIENvcHlyaWdodCAoYykgMjAyMSBNaWNyb3NvZnQgQ29ycC4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KIyMgU2NyaXB0cyBhcmUgbm90IHN1cHBvcnRlZCB1bmRlciBhbnkgTWljcm9zb2Z0IHN0YW5kYXJkIHN1cHBvcnQgcHJvZ3JhbSBvciBzZXJ2aWNlLiBUaGUgc2NyaXB0cyBhcmUgcHJvdmlkZWQgQVMgSVMgd2l0aG91dCB3YXJyYW50eSBvZiBhbnkga2luZC4KIyMgTWljcm9zb2Z0IGRpc2NsYWltcyBhbGwgaW1wbGllZCB3YXJyYW50aWVzIGluY2x1ZGluZywgd2l0aG91dCBsaW1pdGF0aW9uLCBhbnkgaW1wbGllZCB3YXJyYW50aWVzIG9mIG1lcmNoYW50YWJpbGl0eSBvciBvZiBmaXRuZXNzIGZvciBhCiMjIHBhcnRpY3VsYXIgcHVycG9zZS4gVGhlIGVudGlyZSByaXNrIGFyaXNpbmcgb3V0IG9mIHRoZSB1c2Ugb3IgcGVyZm9ybWFuY2Ugb2YgdGhlIHNjcmlwdHMgYW5kIGRvY3VtZW50YXRpb24gcmVtYWlucyB3aXRoIHlvdS4gSW4gbm8gZXZlbnQgc2hhbGwKIyMgTWljcm9zb2Z0LCBpdHMgYXV0aG9ycywgb3IgYW55b25lIGVsc2UgaW52b2x2ZWQgaW4gdGhlIGNyZWF0aW9uLCBwcm9kdWN0aW9uLCBvciBkZWxpdmVyeSBvZiB0aGUgc2NyaXB0cyBiZSBsaWFibGUgZm9yIGFueSBkYW1hZ2VzIHdoYXRzb2V2ZXIKIyMgKGluY2x1ZGluZywgd2l0aG91dCBsaW1pdGF0aW9uLCBkYW1hZ2VzIGZvciBsb3NzIG9mIGJ1c2luZXNzIHByb2ZpdHMsIGJ1c2luZXNzIGludGVycnVwdGlvbiwgbG9zcyBvZiBidXNpbmVzcyBpbmZvcm1hdGlvbiwgb3Igb3RoZXIgcGVjdW5pYXJ5CiMjIGxvc3MpIGFyaXNpbmcgb3V0IG9mIHRoZSB1c2Ugb2Ygb3IgaW5hYmlsaXR5IHRvIHVzZSB0aGUgc2FtcGxlIHNjcmlwdHMgb3IgZG9jdW1lbnRhdGlvbiwgZXZlbiBpZiBNaWNyb3NvZnQgaGFzIGJlZW4gYWR2aXNlZCBvZiB0aGUgcG9zc2liaWxpdHkKIyMgb2Ygc3VjaCBkYW1hZ2VzLgojIyBGZWVkYmFjazogcGFvbG9tYUBtaWNyb3NvZnQuY29tCgojIyBEZWZpbmUgdmFyaWFibGVzCmFwcG5hbWU9IkRldmljZVJlbmFtZSIKbG9nYW5kbWV0YWRpcj0iL0xpYnJhcnkvTG9ncy9NaWNyb3NvZnQvSW50dW5lU2NyaXB0cy8kYXBwbmFtZSIKbG9nPSIkbG9nYW5kbWV0YWRpci8kYXBwbmFtZS5sb2ciCkNvcnBvcmF0ZVByZWZpeD0iQURFIgpQZXJzb25hbFByZWZpeD0iQllPIgpBQk1Pbmx5PSJmYWxzZSIKRW5mb3JjZUJZT0Q9ImZhbHNlIgoKIyMgQ2hlY2sgaWYgdGhlIGxvZyBkaXJlY3RvcnkgaGFzIGJlZW4gY3JlYXRlZAppZiBbIC1kICIkbG9nYW5kbWV0YWRpciIgXTsgdGhlbgogICAgIyMgQWxyZWFkeSBjcmVhdGVkCiAgICBlY2hvICIjICQoZGF0ZSkgfCBMb2cgZGlyZWN0b3J5IGFscmVhZHkgZXhpc3RzIC0gJGxvZ2FuZG1ldGFkaXIiCmVsc2UKICAgICMjIENyZWF0aW5nIE1ldGFkaXJlY3RvcnkKICAgIGVjaG8gIiMgJChkYXRlKSB8IGNyZWF0aW5nIGxvZyBkaXJlY3RvcnkgLSAkbG9nYW5kbWV0YWRpciIKICAgIG1rZGlyIC1wICIkbG9nYW5kbWV0YWRpciIKICAgIGZpcnN0cnVuPSJ0cnVlIgpmaQoKIyBzdGFydCBsb2dnaW5nCmV4ZWMgJj4gPih0ZWUgLWEgIiRsb2ciKQoKIyBCZWdpbiBTY3JpcHQgQm9keQplY2hvICIiCmVjaG8gIiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIgplY2hvICIjICQoZGF0ZSkgfCBTdGFydGluZyAkYXBwbmFtZSIKZWNobyAiIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIgplY2hvICJXcml0aW5nIGxvZyBvdXRwdXQgdG8gWyRsb2ddIgplY2hvICIiCgplY2hvICIgJChkYXRlKSB8IENoZWNraW5nIGlmIHJlbmFtaW5nIGlzIG5lY2Vzc2FyeSIKClNlcmlhbE51bT0kKHN5c3RlbV9wcm9maWxlciBTUEhhcmR3YXJlRGF0YVR5cGUgfCBhd2sgJy9TZXJpYWwvIHtwcmludCAkNH0nIHwgY3V0IC1kICc6JyAtZjItIHwgeGFyZ3MpCmlmIFsgIiQ/IiA9ICIwIiBdOyB0aGVuCiAgZWNobyAiICQoZGF0ZSkgfCBTZXJpYWwgZGV0ZWN0ZWQgYXMgJFNlcmlhbE51bSIKZWxzZQogICBlY2hvICIkKGRhdGUpIHwgVW5hYmxlIHRvIGRldGVybWluZSBzZXJpYWwgbnVtYmVyIgogICBleGl0IDEKZmkKCgpDdXJyZW50TmFtZUNoZWNrPSQoc2N1dGlsIC0tZ2V0IENvbXB1dGVyTmFtZSkKaWYgWyAiJD8iID0gIjAiIF07IHRoZW4KICBlY2hvICIgJChkYXRlKSB8IEN1cnJlbnQgY29tcHV0ZXJuYW1lIGRldGVjdGVkIGFzICRDdXJyZW50TmFtZUNoZWNrIgplbHNlCiAgIGVjaG8gIiQoZGF0ZSkgfCBVbmFibGUgdG8gZGV0ZXJtaW5lIGN1cnJlbnQgbmFtZSIKICAgZXhpdCAxCmZpCgoKZWNobyAiICQoZGF0ZSkgfCBPbGQgTmFtZTogJEN1cnJlbnROYW1lQ2hlY2siCk1vZGVsTmFtZT0kKHN5c3RlbV9wcm9maWxlciBTUEhhcmR3YXJlRGF0YVR5cGUgfCBhd2sgJy9Nb2RlbCBOYW1lOi8ge3ByaW50fScgfCBjdXQgLWQgJzonIC1mMi0gfCB4YXJncykKaWYgWyAiJD8iID0gIjAiIF07IHRoZW4KICBlY2hvICIgJChkYXRlKSB8IFJldHJpZXZlZCBtb2RlbCBuYW1lOiAkTW9kZWxOYW1lIgplbHNlCiAgIGVjaG8gIiQoZGF0ZSkgfCBVbmFibGUgdG8gZGV0ZXJtaW5lIG1vZGVsbmFtZSIKICAgZXhpdCAxCmZpCgoKcHJvZmlsZXMgc3RhdHVzIC10eXBlIGVucm9sbG1lbnQgfCBncmVwICJFbnJvbGxlZCB2aWEgREVQOiBZZXMiCmlmIFsgIiQ/IiA9ICIwIiBdOyB0aGVuCiAgZWNobyAiICQoZGF0ZSkgfCBUaGlzIGRldmljZSBpcyBlbnJvbGxlZCBieSBBQk0iCiAgT3duZXJQcmVmaXg9JENvcnBvcmF0ZVByZWZpeAplbGlmIFsgIiRBQk1Pbmx5IiA9ICJmYWxzZSIgXTsgdGhlbgogIGlmIFtbICIkZmlyc3RydW4iID0gInRydWUiIHx8ICIkRW5mb3JjZUJZT0QiID0gInRydWUiIF1dOyB0aGVuCiAgICBlY2hvICIgJChkYXRlKSB8IFRoaXMgZGV2aWNlIGlzIGVucm9sbGVkIG1hbnVhbGx5LCBhc3N1bWluZyBCWU9EIHNjZW5hcmlvLiIKICAgIE93bmVyUHJlZml4PSRQZXJzb25hbFByZWZpeAogIGVsc2UKICAgIGVjaG8gIiAkKGRhdGUpIHwgVGhpcyBkZXZpY2Ugd2FzIGVucm9sbGVkIG1hbnVhbGx5LiBEZXZpY2UgbmFtZSB3aWxsIG5vdCBiZSBlbmZvcmNlZCBhZnRlciBpbml0aWFsIGNoYW5nZS4iCiAgICBleGl0IDAKICBmaQplbHNlCiAgZWNobyAiICQoZGF0ZSkgfCBUaGlzIGRldmljZSBpcyBub3QgZW5yb2xsZWQgYnkgQUJNLCBkZXZpY2UgbmFtZSB3aWxsIG5vdCBiZSBjaGFuZ2VkLiIKICBleGl0IDAKZmkKCgojIyBXaGF0IGlzIG91ciBwdWJsaWMgSVAKZWNobyAiICQoZGF0ZSkgfCBMb29raW5nIHVwIHB1YmxpYyBJUCIKbXlpcD0kKGRpZyArc2hvcnQgbXlpcC5vcGVuZG5zLmNvbSBAcmVzb2x2ZXIxLm9wZW5kbnMuY29tKQpDb3VudHJ5PSQoY3VybCAtcyAtQSAnTW96aWxsYS81LjAgKE1hY2ludG9zaDsgSW50ZWwgTWFjIE9TIFggMTBfMTVfNykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzExNi4wLjAuMCBTYWZhcmkvNTM3LjM2IEVkZy8xMTYuMC4xOTM4LjY5JyBodHRwczovL2lwYXBpLmNvLyRteWlwL2NvdW50cnkpCgoKZWNobyAiICQoZGF0ZSkgfCBHZW5lcmF0aW5nIGZvdXIgY2hhcmFjdGVycyBjb2RlIGJhc2VkIG9uIHJldHJpZXZlZCBtb2RlbCBuYW1lICRNb2RlbE5hbWUiCgpjYXNlICIkTW9kZWxOYW1lIiBpbgogICJNYWNCb29rIEFpciIqKSBNb2RlbENvZGU9Ik1CQSI7OwogICJNYWNCb29rIFBybyIqKSBNb2RlbENvZGU9Ik1CUCI7OwogICJNYWNCb29rIiopIE1vZGVsQ29kZT0iTUIiOzsKICAiaU1hYyIqKSBNb2RlbENvZGU9IklNQUMiOzsKICAiTWFjIFBybyIqKSBNb2RlbENvZGU9IlBSTyI7OwogICJNYWMgbWluaSIqKSBNb2RlbENvZGU9Ik1JTkkiOzsKICAiTWFjIFN0dWRpbyIqKSBNb2RlbENvZGU9Ik1TIjs7CiAgIkFwcGxlIFZpcnR1YWwgTWFjaGluZSIqKSBNb2RlbENvZGU9IlZNIjs7CiAgKikgTW9kZWxDb2RlPSQoZWNobyAiJE1vZGVsTmFtZSIgfCB0ciAtZCAnICcgfCBjdXQgLWMxLTQpOzsKZXNhYwoKZWNobyAiICQoZGF0ZSkgfCBPd25lclByZWZpeCB2YXJpYWJsZSBzZXQgdG8gJE93bmVyUHJlZml4IgplY2hvICIgJChkYXRlKSB8IE1vZGVsQ29kZSB2YXJpYWJsZSBzZXQgdG8gJE1vZGVsQ29kZSIKZWNobyAiICQoZGF0ZSkgfCBSZXRyaWV2ZWQgc2VyaWFsIG51bWJlcjogJFNlcmlhbE51bSIKZWNobyAiICQoZGF0ZSkgfCBEZXRlY3RlZCBjb3VudHJ5IGFzOiAkQ291bnRyeSIKZWNobyAiICQoZGF0ZSkgfCBCdWlsZGluZyB0aGUgbmV3IG5hbWUuLi4iCgpOZXdOYW1lPSIiCgppZiBbWyAtbiAiJE93bmVyUHJlZml4IiBdXTsgdGhlbgogICAgTmV3TmFtZSs9IiRPd25lclByZWZpeCIKZmkKCmlmIFtbIC1uICIkTW9kZWxDb2RlIiAmJiAhICIkTW9kZWxDb2RlIiA9PSAqImVycm9yIiogXV07IHRoZW4KICAgIGlmIFtbIC1uICIkTmV3TmFtZSIgXV07IHRoZW4KICAgICAgTmV3TmFtZSs9Ii0kTW9kZWxDb2RlIgogICAgZWxzZQogICAgICBOZXdOYW1lKz0iJE1vZGVsQ29kZSIKICAgIGZpCmZpCgppZiBbWyAtbiAiJFNlcmlhbE51bSIgJiYgISAiJFNlcmlhbE51bSIgPT0gKiJlcnJvciIqIF1dOyB0aGVuCiAgICBpZiBbWyAtbiAiJE5ld05hbWUiIF1dOyB0aGVuCiAgICAgIE5ld05hbWUrPSItJFNlcmlhbE51bSIKICAgIGVsc2UKICAgICAgTmV3TmFtZSs9IiRTZXJpYWxOdW0iCiAgICBmaQpmaQoKaWYgW1sgLW4gIiRDb3VudHJ5IiAmJiAhICIkQ291bnRyeSIgPT0gKiJlcnJvciIqIF1dOyB0aGVuCiAgICBpZiBbWyAtbiAiJE5ld05hbWUiIF1dOyB0aGVuCiAgICAgIE5ld05hbWUrPSItJENvdW50cnkiCiAgICBmaQpmaQoKZWNobyAiICQoZGF0ZSkgfCBHZW5lcmF0ZWQgTmFtZTogJE5ld05hbWUiCgoKaWYgW1sgIiRDdXJyZW50TmFtZUNoZWNrIiA9PSAiJE5ld05hbWUiIF1dCiAgdGhlbgogIGVjaG8gIiAkKGRhdGUpIHwgUmVuYW1lIG5vdCByZXF1aXJlZCBhbHJlYWR5IHNldCB0byBbJEN1cnJlbnROYW1lQ2hlY2tdIgogIGV4aXQgMApmaQoKI1NldHRpbmcgQ29tcHV0ZXJOYW1lCnNjdXRpbCAtLXNldCBDb21wdXRlck5hbWUgIiROZXdOYW1lIgppZiBbICIkPyIgPSAiMCIgXTsgdGhlbgogICBlY2hvICIgJChkYXRlKSB8IENvbXB1dGVybmFtZSBjaGFuZ2VkIGZyb20gJEN1cnJlbnROYW1lQ2hlY2sgdG8gJE5ld05hbWUiCmVsc2UKICAgZWNobyAiICQoZGF0ZSkgfCBGYWlsZWQgdG8gcmVuYW1lIHRoZSBkZXZpY2UgZnJvbSAkQ3VycmVudE5hbWVDaGVjayB0byAkTmV3TmFtZSIKICAgZXhpdCAxCmZpCgojU2V0dGluZyBIb3N0TmFtZQpzY3V0aWwgLS1zZXQgSG9zdE5hbWUgIiROZXdOYW1lIgppZiBbICIkPyIgPSAiMCIgXTsgdGhlbgogICBlY2hvICIgJChkYXRlKSB8IEhvc3ROYW1lIGNoYW5nZWQgZnJvbSAkQ3VycmVudE5hbWVDaGVjayB0byAkTmV3TmFtZSIKZWxzZQogICBlY2hvICIgJChkYXRlKSB8IEZhaWxlZCB0byByZW5hbWUgdGhlIGRldmljZSBmcm9tICRDdXJyZW50TmFtZUNoZWNrIHRvICROZXdOYW1lIgogICBleGl0IDEKZmkKCiNTZXR0aW5nIExvY2FsSG9zdE5hbWUKc2N1dGlsIC0tc2V0IExvY2FsSG9zdE5hbWUgIiROZXdOYW1lIgppZiBbICIkPyIgPSAiMCIgXTsgdGhlbgogICBlY2hvICIgJChkYXRlKSB8IExvY2FsSG9zdE5hbWUgY2hhbmdlZCBmcm9tICRDdXJyZW50TmFtZUNoZWNrIHRvICROZXdOYW1lIgplbHNlCiAgIGVjaG8gIiAkKGRhdGUpIHwgRmFpbGVkIHRvIHJlbmFtZSB0aGUgZGV2aWNlIGZyb20gJEN1cnJlbnROYW1lQ2hlY2sgdG8gJE5ld05hbWUiCiAgIGV4aXQgMQpmaQ==",
     "runAsAccount": "system",
     "fileName": "scr-sys-100-device-rename.sh",
     "roleScopeTagIds": [
          "Default"
     ]
}