{
     "executionFrequency": "PT0S",
     "retryCount": 0,
     "blockExecutionNotifications": false,
     "displayName": "[intune-my-macs] SCR-APP-102 - Install Remote Help",
     "description": "Downloads and installs Microsoft Remote Help from a signed PKG. Automatically installs Microsoft Auto Update (MAU) first and ensures Rosetta 2 is present on Apple Silicon. Performs intelligent update checking via HTTP Last-Modified headers to avoid unnecessary reinstalls. Enables IT support teams to provide remote assistance to macOS devices.",
     "scriptContent": "IyEvYmluL3pzaAojc2V0IC14CgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIyBJTU0gLSBJbnN0YWxsIFJlbW90ZSBIZWxwIChQS0cpCiMjCiMjIFZlcnNpb246IDEuMC4wCiMjIE1haW50YWluZXI6IG5laWxqb2huQG1pY3Jvc29mdC5jb20KIyMKIyMgU3VtbWFyeQojIyAtIERvd25sb2FkcyBhbmQgaW5zdGFsbHMgTWljcm9zb2Z0IFJlbW90ZSBIZWxwIG9uIG1hY09TIHVzaW5nIGEgc2lnbmVkIFBLRy4KIyMgLSBJbnN0YWxscyBNaWNyb3NvZnQgQXV0byBVcGRhdGUgKE1BVSkgZmlyc3QgdG8gZW5zdXJlIHVwZGF0ZSBjaGFubmVsIGlzIGF2YWlsYWJsZS4KIyMgLSBPbiBBcHBsZSBzaWxpY29uLCBlbnN1cmVzIFJvc2V0dGEgMiBpcyBwcmVzZW50IChpbnN0YWxscyBpZiByZXF1aXJlZCkuCiMjIC0gSWYgUmVtb3RlIEhlbHAgaXMgYWxyZWFkeSBpbnN0YWxsZWQgYW5kIGF1dG9VcGRhdGU9dHJ1ZSwgZXhpdHMgd2l0aG91dCBjaGFuZ2VzLgojIyAtIE90aGVyd2lzZSBwZXJmb3JtcyBhbiB1cGRhdGUgY2hlY2sgdmlhIEhUVFAgTGFzdC1Nb2RpZmllZCBhbmQgYSBsb2NhbCBtZXRhIGZpbGUsIHRoZW4gaW5zdGFsbHMvdXBkYXRlcy4KIyMgLSBPcHRpb25hbGx5IHRlcm1pbmF0ZXMgcnVubmluZyBSZW1vdGUgSGVscCBwcm9jZXNzIGJlZm9yZSBpbnN0YWxsIHdoZW4gY29uZmlndXJlZC4KIyMgLSBVcGRhdGVzIE9jdG9yeSBzdGF0dXMgd2hlbiBPY3RvcnkgaXMgaW5zdGFsbGVkIGFuZCBydW5uaW5nLgojIyAtIERldGFpbGVkIGxvZ2dpbmcgd3JpdHRlbiB0byAvTGlicmFyeS9Mb2dzL01pY3Jvc29mdC9JbnR1bmVTY3JpcHRzL2luc3RhbGxSZW1vdGVIZWxwL1JlbW90ZSBIZWxwLmxvZwojIwojIyBJbnB1dHMgKHZhcmlhYmxlcykKIyMgLSB3ZWJ1cmw6IERvd25sb2FkIFVSTCBmb3IgdGhlIFJlbW90ZSBIZWxwIFBLRwojIyAtIG1hdXVybDogRG93bmxvYWQgVVJMIGZvciB0aGUgTWljcm9zb2Z0IEF1dG8gVXBkYXRlIFBLRwojIyAtIGFwcG5hbWUsIGFwcCwgcHJvY2Vzc3BhdGgsIHRlcm1pbmF0ZXByb2Nlc3MsIGF1dG9VcGRhdGUKIyMKIyMgQXJ0aWZhY3RzIChvdXRwdXRzKQojIyAtIExvZzogL0xpYnJhcnkvTG9ncy9NaWNyb3NvZnQvSW50dW5lU2NyaXB0cy9pbnN0YWxsUmVtb3RlSGVscC9SZW1vdGUgSGVscC5sb2cKIyMgLSBNZXRhOiAvTGlicmFyeS9Mb2dzL01pY3Jvc29mdC9JbnR1bmVTY3JpcHRzL2luc3RhbGxSZW1vdGVIZWxwL1JlbW90ZSBIZWxwLm1ldGEgKExhc3QtTW9kaWZpZWQpCiMjCiMjIFJlcXVpcmVtZW50cwojIyAtIG1hY09TIDExIG9yIGxhdGVyCiMjIC0gUm9vdCBwcml2aWxlZ2VzCiMjIC0gQnVpbHQtaW5zOiBjdXJsLCBpbnN0YWxsZXIsIHNvZnR3YXJldXBkYXRlLCByc3luYwojIwojIyBFeGl0IGNvZGVzCiMjIC0gMDogU3VjY2VzcyAoaW5zdGFsbGVkIG9yIG5vIGFjdGlvbiByZXF1aXJlZCkKIyMgLSAxOiBGYWlsdXJlIChkb3dubG9hZC9pbnN0YWxsIGVycm9yIG9yIHVuc3VwcG9ydGVkIHBhY2thZ2UgdHlwZSkKIyMKIyMgVXNhZ2UKIyMgLSBSdW4gYXMgcm9vdCB2aWEgSW50dW5lIGRldmljZSBzY3JpcHQgb3IgeW91ciBtYW5hZ2VtZW50IHdvcmtmbG93LgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKIyMgQ29weXJpZ2h0IChjKSAyMDIwIE1pY3Jvc29mdCBDb3JwLiBBbGwgcmlnaHRzIHJlc2VydmVkLgojIyBTY3JpcHRzIGFyZSBub3Qgc3VwcG9ydGVkIHVuZGVyIGFueSBNaWNyb3NvZnQgc3RhbmRhcmQgc3VwcG9ydCBwcm9ncmFtIG9yIHNlcnZpY2UuIFRoZSBzY3JpcHRzIGFyZSBwcm92aWRlZCBBUyBJUyB3aXRob3V0IHdhcnJhbnR5IG9mIGFueSBraW5kLgojIyBNaWNyb3NvZnQgZGlzY2xhaW1zIGFsbCBpbXBsaWVkIHdhcnJhbnRpZXMgaW5jbHVkaW5nLCB3aXRob3V0IGxpbWl0YXRpb24sIGFueSBpbXBsaWVkIHdhcnJhbnRpZXMgb2YgbWVyY2hhbnRhYmlsaXR5IG9yIG9mIGZpdG5lc3MgZm9yIGEKIyMgcGFydGljdWxhciBwdXJwb3NlLiBUaGUgZW50aXJlIHJpc2sgYXJpc2luZyBvdXQgb2YgdGhlIHVzZSBvciBwZXJmb3JtYW5jZSBvZiB0aGUgc2NyaXB0cyBhbmQgZG9jdW1lbnRhdGlvbiByZW1haW5zIHdpdGggeW91LiBJbiBubyBldmVudCBzaGFsbAojIyBNaWNyb3NvZnQsIGl0cyBhdXRob3JzLCBvciBhbnlvbmUgZWxzZSBpbnZvbHZlZCBpbiB0aGUgY3JlYXRpb24sIHByb2R1Y3Rpb24sIG9yIGRlbGl2ZXJ5IG9mIHRoZSBzY3JpcHRzIGJlIGxpYWJsZSBmb3IgYW55IGRhbWFnZXMgd2hhdHNvZXZlcgojIyAoaW5jbHVkaW5nLCB3aXRob3V0IGxpbWl0YXRpb24sIGRhbWFnZXMgZm9yIGxvc3Mgb2YgYnVzaW5lc3MgcHJvZml0cywgYnVzaW5lc3MgaW50ZXJydXB0aW9uLCBsb3NzIG9mIGJ1c2luZXNzIGluZm9ybWF0aW9uLCBvciBvdGhlciBwZWN1bmlhcnkKIyMgbG9zcykgYXJpc2luZyBvdXQgb2YgdGhlIHVzZSBvZiBvciBpbmFiaWxpdHkgdG8gdXNlIHRoZSBzYW1wbGUgc2NyaXB0cyBvciBkb2N1bWVudGF0aW9uLCBldmVuIGlmIE1pY3Jvc29mdCBoYXMgYmVlbiBhZHZpc2VkIG9mIHRoZSBwb3NzaWJpbGl0eQojIyBvZiBzdWNoIGRhbWFnZXMuCiMjIEZlZWRiYWNrOiBuZWlsam9obkBtaWNyb3NvZnQuY29tCgojIFVzZXIgRGVmaW5lZCB2YXJpYWJsZXMKbWF1dXJsPSJodHRwczovL2dvLm1pY3Jvc29mdC5jb20vZndsaW5rLz9saW5raWQ9ODMwMTk2IiAgICAgICAgICAgICAgICAgICAgICAgICAjIFVSTCB0byBmZXRjaCBsYXRlc3QgTUFVCndlYnVybD0iaHR0cHM6Ly9ha2EubXMvZG93bmxvYWRyZW1vdGVoZWxwIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBXaGF0IGlzIHRoZSBBenVyZSBCbG9iIFN0b3JhZ2UgVVJMPwphcHBuYW1lPSJSZW1vdGUgSGVscCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgVGhlIG5hbWUgb2Ygb3VyIEFwcCBkZXBsb3ltZW50IHNjcmlwdCAoYWxzbyB1c2VkIGZvciBPY3RvcnkgbW9uaXRvcikKYXBwPSJSZW1vdGUgSGVscC5hcHAiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIFRoZSBhY3R1YWwgbmFtZSBvZiBvdXIgQXBwIG9uY2UgaW5zdGFsbGVkCmxvZ2FuZG1ldGFkaXI9Ii9MaWJyYXJ5L0xvZ3MvTWljcm9zb2Z0L0ludHVuZVNjcmlwdHMvaW5zdGFsbFJlbW90ZUhlbHAiICAgICAgICAgIyBUaGUgbG9jYXRpb24gb2Ygb3VyIGxvZ3MgYW5kIGxhc3QgdXBkYXRlZCBkYXRhCnByb2Nlc3NwYXRoPSIvQXBwbGljYXRpb25zL1JlbW90ZSBIZWxwLmFwcC9Db250ZW50cy9NYWNPUy9SZW1vdGUgSGVscCIgICAgICAgICAgIyBUaGUgcHJvY2VzcyBuYW1lIG9mIHRoZSBBcHAgd2UgYXJlIGluc3RhbGxpbmcKdGVybWluYXRlcHJvY2Vzcz0idHJ1ZSIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIERvIHdlIHdhbnQgdG8gdGVybWluYXRlIHRoZSBydW5uaW5nIHByb2Nlc3M/IElmIGZhbHNlIHdlJ2xsIHdhaXQgdW50aWwgaXRzIG5vdCBydW5uaW5nCmF1dG9VcGRhdGU9InRydWUiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBBcHBsaWNhdGlvbiB1cGRhdGVzIGl0c2VsZiwgaWYgYWxyZWFkeSBpbnN0YWxsZWQgd2Ugc2hvdWxkIGV4aXQKCiMgR2VuZXJhdGVkIHZhcmlhYmxlcwp0ZW1wZGlyPSQobWt0ZW1wIC1kKQpsb2c9IiRsb2dhbmRtZXRhZGlyLyRhcHBuYW1lLmxvZyIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgVGhlIGxvY2F0aW9uIG9mIHRoZSBzY3JpcHQgbG9nIGZpbGUKbWV0YWZpbGU9IiRsb2dhbmRtZXRhZGlyLyRhcHBuYW1lLm1ldGEiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIFRoZSBsb2NhdGlvbiBvZiBvdXIgbWV0YSBmaWxlIChmb3IgdXBkYXRlcykKCiMgSGVscGVycwoKY2xlYW51cCgpIHsKICAgIGlmIFtbIC1kICIkdGVtcGRpciIgXV07IHRoZW4KICAgICAgICBybSAtcmYgIiR0ZW1wZGlyIgogICAgZmkKfQp0cmFwIGNsZWFudXAgRVhJVAoKdXBkYXRlTUFVICgpIHsKICAgICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwogICAgIyMgIFRoaXMgZnVuY3Rpb24gZG93bmxvYWRzIGFuZCBpbnN0YWxscyB0aGUgbGF0ZXN0IE1pY3Jvc29mdCBBdXRvIFVwZGF0ZSAoTUFVKSB0b29sIAogICAgIyMKICAgIGVjaG8gIiQoZGF0ZSkgfCBTdGFydGluZyBkb3dubGFkaW5nIG9mIFtNQVVdIgoKICAgIGNkICIkdGVtcGRpciIKICAgIGN1cmwgLW8gIiR0ZW1wZGlyL21hdS5wa2ciIC1mIC1zIC0tY29ubmVjdC10aW1lb3V0IDMwIC0tcmV0cnkgNSAtLXJldHJ5LWRlbGF5IDYwIC1MIC1KIC1PICIkbWF1dXJsIgogICAgaWYgW1sgJD8gPT0gMCBdXTsgdGhlbgogICAgICAgIGVjaG8gIiQoZGF0ZSkgfCBEb3dubG9hZGVkIFskbWF1dXJsXSB0byBbJHRlbXBkaXIvbWF1LnBrZ10iCiAgICAgICAgZWNobyAiJChkYXRlKSB8IFN0YXJ0aW5nIGluc3RhbGxhdGlvbiBvZiBsYXRlc3QgTUFVIgogICAgICAgIGluc3RhbGxlciAtcGtnICIkdGVtcGRpci9tYXUucGtnIiAtdGFyZ2V0IC8KICAgICAgICBpZiBbICIkPyIgPSAiMCIgXTsgdGhlbgogICAgICAgICAgICBlY2hvICIkKGRhdGUpIHwgTUFVIEluc3RhbGxlZCIKICAgICAgICAgICAgZWNobyAiJChkYXRlKSB8IENsZWFuaW5nIFVwIgogICAgICAgICAgICBybSAtcmYgIiR0ZW1wZGlyL21hdS5wa2ciCiAgICAgICAgZWxzZQogICAgICAgICAgICBlY2hvICIkKGRhdGUpIHwgRmFpbGVkIHRvIGluc3RhbGwgW01BVV0iCiAgICAgICAgICAgIGVjaG8gIiQoZGF0ZSkgfCBDbGVhbmluZyBVcCIKICAgICAgICAgICAgcm0gLXJmICIkdGVtcGRpci9tYXUucGtnIgogICAgICAgIGZpCiAgICBlbHNlCiAgICAgICAgZWNobyAiJChkYXRlKSB8IEZhaWx1cmUgdG8gZG93bmxvYWQgW01BVV0iCiAgICAgICAgZXhpdCAxCiAgICBmaQp9CgojIGZ1bmN0aW9uIHRvIGRlbGF5IHNjcmlwdCBpZiB0aGUgc3BlY2lmaWVkIHByb2Nlc3MgaXMgcnVubmluZwp3YWl0Rm9yUHJvY2VzcyAoKSB7CiAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwogICAgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKICAgICMjICBGdW5jdGlvbiB0byBwYXVzZSB3aGlsZSBhIHNwZWNpZmllZCBwcm9jZXNzIGlzIHJ1bm5pbmcKICAgICMjICAkMSA9IG5hbWUgb2YgcHJvY2VzcyB0byBjaGVjayBmb3I7ICQyID0gZGVsYXk7ICQzID0gdGVybWluYXRlIHRydWUvZmFsc2UKICAgIHByb2Nlc3NOYW1lPSQxCiAgICBmaXhlZERlbGF5PSQyCiAgICB0ZXJtaW5hdGU9JDMKCiAgICBlY2hvICIkKGRhdGUpIHwgV2FpdGluZyBmb3Igb3RoZXIgWyRwcm9jZXNzTmFtZV0gcHJvY2Vzc2VzIHRvIGVuZCIKICAgIHdoaWxlIHBzIGF1eCB8IGdyZXAgIiRwcm9jZXNzTmFtZSIgfCBncmVwIC12IGdyZXAgJj4vZGV2L251bGw7IGRvCiAgICAgICAgaWYgW1sgJHRlcm1pbmF0ZSA9PSAidHJ1ZSIgXV07IHRoZW4KICAgICAgICAgICAgcGlkPSQocGdyZXAgLWYgIiRwcm9jZXNzTmFtZSIgfCBoZWFkIC1uMSkKICAgICAgICAgICAgaWYgW1sgLW4gIiRwaWQiIF1dOyB0aGVuCiAgICAgICAgICAgICAgICBlY2hvICIkKGRhdGUpIHwgKyBbJGFwcG5hbWVdIHJ1bm5pbmcsIHRlcm1pbmF0aW5nIFskcHJvY2Vzc05hbWVdIGF0IHBpZCBbJHBpZF0uLi4iCiAgICAgICAgICAgICAgICBraWxsIC05ICRwaWQgMj4vZGV2L251bGwgfHwgdHJ1ZQogICAgICAgICAgICBmaQogICAgICAgICAgICByZXR1cm4KICAgICAgICBmaQogICAgICAgIGlmIFtbICEgJGZpeGVkRGVsYXkgXV07IHRoZW4KICAgICAgICAgICAgZGVsYXk9JCgoICRSQU5ET00gJSA1MCArIDEwICkpCiAgICAgICAgZWxzZQogICAgICAgICAgICBkZWxheT0kZml4ZWREZWxheQogICAgICAgIGZpCiAgICAgICAgZWNobyAiJChkYXRlKSB8ICArIEFub3RoZXIgaW5zdGFuY2Ugb2YgJHByb2Nlc3NOYW1lIGlzIHJ1bm5pbmcsIHdhaXRpbmcgWyRkZWxheV0gc2Vjb25kcyIKICAgICAgICBzbGVlcCAkZGVsYXkKICAgIGRvbmUKICAgIGVjaG8gIiQoZGF0ZSkgfCBObyBpbnN0YW5jZXMgb2YgWyRwcm9jZXNzTmFtZV0gZm91bmQsIHNhZmUgdG8gcHJvY2VlZCIKfQoKIyBjaGVjayBpZiB3ZSBuZWVkIFJvc2V0dGEgMgpjaGVja0ZvclJvc2V0dGEyICgpIHsKICAgICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwogICAgZWNobyAiJChkYXRlKSB8IENoZWNraW5nIGlmIHdlIG5lZWQgUm9zZXR0YSAyIG9yIG5vdCIKICAgIHdhaXRGb3JQcm9jZXNzICIvdXNyL3NiaW4vc29mdHdhcmV1cGRhdGUiCiAgICBPTERJRlM9JElGUwogICAgSUZTPScuJyByZWFkIG9zdmVyc19tYWpvciBvc3ZlcnNfbWlub3Igb3N2ZXJzX2RvdF92ZXJzaW9uIDw8PCAiJCgvdXNyL2Jpbi9zd192ZXJzIC1wcm9kdWN0VmVyc2lvbikiCiAgICBJRlM9JE9MRElGUwogICAgaWYgW1sgJHtvc3ZlcnNfbWFqb3J9IC1nZSAxMSBdXTsgdGhlbgogICAgICAgIHByb2Nlc3Nvcj0kKC91c3Ivc2Jpbi9zeXNjdGwgLW4gbWFjaGRlcC5jcHUuYnJhbmRfc3RyaW5nIHwgZ3JlcCAtbyAiSW50ZWwiKQogICAgICAgIGlmIFtbIC1uICIkcHJvY2Vzc29yIiBdXTsgdGhlbgogICAgICAgICAgICBlY2hvICIkKGRhdGUpIHwgJHByb2Nlc3NvciBwcm9jZXNzb3IgaW5zdGFsbGVkLiBObyBuZWVkIHRvIGluc3RhbGwgUm9zZXR0YS4iCiAgICAgICAgZWxzZQogICAgICAgICAgICBpZiAvdXNyL2Jpbi9wZ3JlcCBvYWhkID4vZGV2L251bGwgMj4mMTsgdGhlbgogICAgICAgICAgICAgICAgZWNobyAiJChkYXRlKSB8IFJvc2V0dGEgaXMgYWxyZWFkeSBpbnN0YWxsZWQgYW5kIHJ1bm5pbmcuIE5vdGhpbmcgdG8gZG8uIgogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAvdXNyL3NiaW4vc29mdHdhcmV1cGRhdGUgLS1pbnN0YWxsLXJvc2V0dGEgLS1hZ3JlZS10by1saWNlbnNlCiAgICAgICAgICAgICAgICBpZiBbWyAkPyAtZXEgMCBdXTsgdGhlbgogICAgICAgICAgICAgICAgICAgIGVjaG8gIiQoZGF0ZSkgfCBSb3NldHRhIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSBpbnN0YWxsZWQuIgogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIGVjaG8gIiQoZGF0ZSkgfCBSb3NldHRhIGluc3RhbGxhdGlvbiBmYWlsZWQhIgogICAgICAgICAgICAgICAgZmkKICAgICAgICAgICAgZmkKICAgICAgICBmaQogICAgZWxzZQogICAgICAgIGVjaG8gIiQoZGF0ZSkgfCBNYWMgaXMgcnVubmluZyBtYWNPUyAkb3N2ZXJzX21ham9yLiRvc3ZlcnNfbWlub3IuJG9zdmVyc19kb3RfdmVyc2lvbi4gTm8gbmVlZCB0byBpbnN0YWxsIFJvc2V0dGEuIgogICAgZmkKfQoKIyBVcGRhdGUgdGhlIGxhc3QgbW9kaWZpZWQgZGF0ZSBmb3IgdGhpcyBhcHAKZmV0Y2hMYXN0TW9kaWZpZWREYXRlKCkgewogICAgaWYgW1sgISAtZCAiJGxvZ2FuZG1ldGFkaXIiIF1dOyB0aGVuCiAgICAgICAgZWNobyAiJChkYXRlKSB8IENyZWF0aW5nIFskbG9nYW5kbWV0YWRpcl0gdG8gc3RvcmUgbWV0YWRhdGEiCiAgICAgICAgbWtkaXIgLXAgIiRsb2dhbmRtZXRhZGlyIgogICAgZmkKICAgIGxhc3Rtb2RpZmllZD0kKGN1cmwgLXNJTCAiJHdlYnVybCIgfCBncmVwIC1pICJsYXN0LW1vZGlmaWVkIiB8IGF3ayAneyQxPSIiOyBwcmludCAkMH0nIHwgYXdrICd7IHN1YigvXlsgXHRdKy8sICIiKTsgcHJpbnQgfScgfCB0ciAtZCAnXHInKQogICAgaWYgW1sgJDEgPT0gInVwZGF0ZSIgXV07IHRoZW4KICAgICAgICBlY2hvICIkKGRhdGUpIHwgV3JpdGluZyBsYXN0IG1vZGlmaWVkIGRhdGUgWyRsYXN0bW9kaWZpZWRdIHRvIFskbWV0YWZpbGVdIgogICAgICAgIGVjaG8gIiRsYXN0bW9kaWZpZWQiID4gIiRtZXRhZmlsZSIKICAgIGZpCn0KCiMgRG93bmxvYWQgUEtHCmRvd25sb2FkQXBwICgpIHsKICAgIGVjaG8gIiQoZGF0ZSkgfCBTdGFydGluZyBkb3dubGFkaW5nIG9mIFskYXBwbmFtZV0iCiAgICBlY2hvICIkKGRhdGUpIHwgRG93bmxvYWRpbmcgJGFwcG5hbWUgWyR3ZWJ1cmxdIgoKICAgIGNkICIkdGVtcGRpciIKICAgIGN1cmwgLWYgLXMgLS1jb25uZWN0LXRpbWVvdXQgMzAgLS1yZXRyeSA1IC0tcmV0cnktZGVsYXkgNjAgLS1jb21wcmVzc2VkIC1MIC1KIC1PICIkd2VidXJsIgogICAgaWYgW1sgJD8gPT0gMCBdXTsgdGhlbgogICAgICAgIGZvciBmIGluICo7IGRvCiAgICAgICAgICAgIHRlbXBmaWxlPSRmCiAgICAgICAgICAgIGVjaG8gIiQoZGF0ZSkgfCBGb3VuZCBkb3dubG9hZGVkIHRlbXBmaWxlIFskdGVtcGZpbGVdIgogICAgICAgIGRvbmUKICAgICAgICBjYXNlICR0ZW1wZmlsZSBpbgogICAgICAgICAgICAqLnBrZ3wqLlBLR3wqLm1wa2d8Ki5NUEtHKQogICAgICAgICAgICAgICAgcGFja2FnZVR5cGU9IlBLRyIKICAgICAgICAgICAgICAgIDs7CiAgICAgICAgICAgICopCiAgICAgICAgICAgICAgICBlY2hvICIkKGRhdGUpIHwgRXhwZWN0ZWQgYSBQS0csIGJ1dCBkb3dubG9hZGVkIGFuIHVuc3VwcG9ydGVkIHR5cGUgWyR0ZW1wZmlsZV0iCiAgICAgICAgICAgICAgICBleGl0IDEKICAgICAgICAgICAgICAgIDs7CiAgICAgICAgZXNhYwogICAgICAgIGVjaG8gIiQoZGF0ZSkgfCBEb3dubG9hZGVkIFskYXBwXSB0byBbJHRlbXBmaWxlXSIKICAgICAgICBlY2hvICIkKGRhdGUpIHwgRGV0ZWN0ZWQgaW5zdGFsbCB0eXBlIGFzIFskcGFja2FnZVR5cGVdIgogICAgZWxzZQogICAgICAgIGVjaG8gIiQoZGF0ZSkgfCBGYWlsdXJlIHRvIGRvd25sb2FkIFskd2VidXJsXSIKICAgICAgICB1cGRhdGVPY3RvcnkgZmFpbGVkCiAgICAgICAgZXhpdCAxCiAgICBmaQp9CgojIENoZWNrIGlmIHdlIG5lZWQgdG8gdXBkYXRlIG9yIG5vdAp1cGRhdGVDaGVjaygpIHsKICAgIGVjaG8gIiQoZGF0ZSkgfCBDaGVja2luZyBpZiB3ZSBuZWVkIHRvIGluc3RhbGwgb3IgdXBkYXRlIFskYXBwbmFtZV0iCiAgICBpZiBbIC1kICIvQXBwbGljYXRpb25zLyRhcHAiIF07IHRoZW4KICAgICAgICBpZiBbWyAkYXV0b1VwZGF0ZSA9PSAidHJ1ZSIgXV07IHRoZW4KICAgICAgICAgICAgZWNobyAiJChkYXRlKSB8IFskYXBwbmFtZV0gaXMgYWxyZWFkeSBpbnN0YWxsZWQgYW5kIGhhbmRsZXMgdXBkYXRlcyBpdHNlbGYsIGV4aXRpbmciCiAgICAgICAgICAgIGV4aXQgMAogICAgICAgIGZpCiAgICAgICAgZWNobyAiJChkYXRlKSB8IFskYXBwbmFtZV0gYWxyZWFkeSBpbnN0YWxsZWQsIGxldCdzIHNlZSBpZiB3ZSBuZWVkIHRvIHVwZGF0ZSIKICAgICAgICBmZXRjaExhc3RNb2RpZmllZERhdGUKICAgICAgICBpZiBbWyAtZCAiJGxvZ2FuZG1ldGFkaXIiIF1dOyB0aGVuCiAgICAgICAgICAgIGlmIFsgLWYgIiRtZXRhZmlsZSIgXTsgdGhlbgogICAgICAgICAgICAgICAgcHJldmlvdXNsYXN0bW9kaWZpZWRkYXRlPSQoY2F0ICIkbWV0YWZpbGUiKQogICAgICAgICAgICAgICAgaWYgW1sgIiRwcmV2aW91c2xhc3Rtb2RpZmllZGRhdGUiICE9ICIkbGFzdG1vZGlmaWVkIiBdXTsgdGhlbgogICAgICAgICAgICAgICAgICAgIGVjaG8gIiQoZGF0ZSkgfCBVcGRhdGUgZm91bmQsIHByZXZpb3VzIFskcHJldmlvdXNsYXN0bW9kaWZpZWRkYXRlXSBhbmQgY3VycmVudCBbJGxhc3Rtb2RpZmllZF0iCiAgICAgICAgICAgICAgICAgICAgdXBkYXRlPSJ1cGRhdGUiCiAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgZWNobyAiJChkYXRlKSB8IE5vIHVwZGF0ZSBiZXR3ZWVuIHByZXZpb3VzIFskcHJldmlvdXNsYXN0bW9kaWZpZWRkYXRlXSBhbmQgY3VycmVudCBbJGxhc3Rtb2RpZmllZF0iCiAgICAgICAgICAgICAgICAgICAgZWNobyAiJChkYXRlKSB8IEV4aXRpbmcsIG5vdGhpbmcgdG8gZG8iCiAgICAgICAgICAgICAgICAgICAgZXhpdCAwCiAgICAgICAgICAgICAgICBmaQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBlY2hvICIkKGRhdGUpIHwgTWV0YSBmaWxlIFskbWV0YWZpbGVdIG5vdCBmb3VuZCIKICAgICAgICAgICAgICAgIGVjaG8gIiQoZGF0ZSkgfCBVbmFibGUgdG8gZGV0ZXJtaW5lIGlmIHVwZGF0ZSByZXF1aXJlZCwgdXBkYXRpbmcgWyRhcHBuYW1lXSBhbnl3YXkiCiAgICAgICAgICAgIGZpCiAgICAgICAgZmkKICAgIGVsc2UKICAgICAgICBlY2hvICIkKGRhdGUpIHwgWyRhcHBuYW1lXSBub3QgaW5zdGFsbGVkLCBuZWVkIHRvIGRvd25sb2FkIGFuZCBpbnN0YWxsIgogICAgZmkKfQoKIyMgSW5zdGFsbCBQS0cgRnVuY3Rpb24gKFBLRy1vbmx5IHBhdGgpCmluc3RhbGxQS0cgKCkgewogICAgd2FpdEZvclByb2Nlc3MgIiRwcm9jZXNzcGF0aCIgIjMwMCIgIiR0ZXJtaW5hdGVwcm9jZXNzIgogICAgZWNobyAiJChkYXRlKSB8IEluc3RhbGxpbmcgJGFwcG5hbWUiCiAgICB1cGRhdGVPY3RvcnkgaW5zdGFsbGluZwoKICAgIGlmIFtbIC1kICIvQXBwbGljYXRpb25zLyRhcHAiIF1dOyB0aGVuCiAgICAgICAgcm0gLXJmICIvQXBwbGljYXRpb25zLyRhcHAiCiAgICBmaQoKICAgIGluc3RhbGxlciAtcGtnICIkdGVtcGZpbGUiIC10YXJnZXQgL0FwcGxpY2F0aW9ucwogICAgaWYgWyAiJD8iID0gIjAiIF07IHRoZW4KICAgICAgICBlY2hvICIkKGRhdGUpIHwgJGFwcG5hbWUgSW5zdGFsbGVkIgogICAgICAgIGVjaG8gIiQoZGF0ZSkgfCBDbGVhbmluZyBVcCIKICAgICAgICBybSAtcmYgIiR0ZW1wZGlyIgogICAgICAgIGVjaG8gIiQoZGF0ZSkgfCBBcHBsaWNhdGlvbiBbJGFwcG5hbWVdIHN1Y2Nlc2Z1bGx5IGluc3RhbGxlZCIKICAgICAgICBmZXRjaExhc3RNb2RpZmllZERhdGUgdXBkYXRlCiAgICAgICAgdXBkYXRlT2N0b3J5IGluc3RhbGxlZAogICAgICAgIGV4aXQgMAogICAgZWxzZQogICAgICAgIGVjaG8gIiQoZGF0ZSkgfCBGYWlsZWQgdG8gaW5zdGFsbCAkYXBwbmFtZSIKICAgICAgICBybSAtcmYgIiR0ZW1wZGlyIgogICAgICAgIHVwZGF0ZU9jdG9yeSBmYWlsZWQKICAgICAgICBleGl0IDEKICAgIGZpCn0KCnVwZGF0ZU9jdG9yeSAoKSB7CiAgICAjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwogICAgIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKICAgICMjICBVcGRhdGUgT2N0b3J5IHN0YXR1cyAoaWYgcmVxdWlyZWQpCiAgICBpZiBbWyAtYSAiL0xpYnJhcnkvQXBwbGljYXRpb24gU3VwcG9ydC9PY3RvcnkiIF1dOyB0aGVuCiAgICAgICAgaWYgW1sgJChwcyBhdXggfCBncmVwIC1pICJPY3RvcnkiIHwgZ3JlcCAtdiBncmVwKSBdXTsgdGhlbgogICAgICAgICAgICBlY2hvICIkKGRhdGUpIHwgVXBkYXRpbmcgT2N0b3J5IG1vbml0b3IgZm9yIFskYXBwbmFtZV0gdG8gWyQxXSIKICAgICAgICAgICAgL3Vzci9sb2NhbC9iaW4vb2N0by1ub3RpZmllciBtb25pdG9yICIkYXBwbmFtZSIgLS1zdGF0ZSAkMSA+L2Rldi9udWxsCiAgICAgICAgZmkKICAgIGZpCn0KCnN0YXJ0TG9nKCkgewogICAgaWYgW1sgISAtZCAiJGxvZ2FuZG1ldGFkaXIiIF1dOyB0aGVuCiAgICAgICAgZWNobyAiJChkYXRlKSB8IENyZWF0aW5nIFskbG9nYW5kbWV0YWRpcl0gdG8gc3RvcmUgbG9ncyIKICAgICAgICBta2RpciAtcCAiJGxvZ2FuZG1ldGFkaXIiCiAgICBmaQogICAgZXhlYyA+ID4odGVlIC1hICIkbG9nIikgMj4mMQp9CgojIGRlbGF5IHVudGlsIHRoZSB1c2VyIGhhcyBmaW5pc2hlZCBzZXR1cCBhc3Npc3RhbnQuCndhaXRGb3JEZXNrdG9wICgpIHsKICB1bnRpbCBwcyBhdXggfCBncmVwIC9TeXN0ZW0vTGlicmFyeS9Db3JlU2VydmljZXMvRG9jay5hcHAvQ29udGVudHMvTWFjT1MvRG9jayB8IGdyZXAgLXYgZ3JlcCAmPi9kZXYvbnVsbDsgZG8KICAgIGRlbGF5PSQoKCAkUkFORE9NICUgNTAgKyAxMCApKQogICAgZWNobyAiJChkYXRlKSB8ICArIERvY2sgbm90IHJ1bm5pbmcsIHdhaXRpbmcgWyRkZWxheV0gc2Vjb25kcyIKICAgIHNsZWVwICRkZWxheQogIGRvbmUKICBlY2hvICIkKGRhdGUpIHwgRG9jayBpcyBoZXJlLCBsZXRzIGNhcnJ5IG9uIgp9CgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIyBCZWdpbiBTY3JpcHQgQm9keQojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKc3RhcnRMb2cKCmVjaG8gIiIKZWNobyAiIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMiCmVjaG8gIiMgJChkYXRlKSB8IExvZ2dpbmcgaW5zdGFsbCBvZiBbJGFwcG5hbWVdIHRvIFskbG9nXSIKZWNobyAiIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIgplY2hvICIiCgpjaGVja0ZvclJvc2V0dGEyCnVwZGF0ZUNoZWNrCndhaXRGb3JEZXNrdG9wCgpkb3dubG9hZEFwcAp1cGRhdGVNQVUKCiMgUEtHIG9ubHkKaWYgW1sgJHBhY2thZ2VUeXBlID09ICJQS0ciIF1dOyB0aGVuCiAgICBpbnN0YWxsUEtHCmVsc2UKICAgIGVjaG8gIiQoZGF0ZSkgfCBVbnN1cHBvcnRlZCBwYWNrYWdlIHR5cGUgWyRwYWNrYWdlVHlwZV0iCiAgICBleGl0IDEKZmkK",
     "runAsAccount": "system",
     "fileName": "scr-app-102-install-remote-help.sh",
     "roleScopeTagIds": [
          "Default"
     ]
}